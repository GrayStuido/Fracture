<script src="textsplash.js" onload="changeText()"></script>
<head>
  <script src="../Master.js"></script>
</head>
<body onload="changeText()">
  <link rel="manifest" href="manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('pwabuilder-sw.js')
        .then((registration) => {
          console.log('Service Worker registered with scope:', registration.scope);
        })
        .catch((error) => {
          console.log('Service Worker registration failed:', error);
        });
    }
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
        // Get the current URL
        var currentURL = window.location.href;
        document.getElementById("url-target").value = currentURL;
    });
</script>
<link rel="icon" type="image/png" href="favicon.png">
<link rel="stylesheet" href="css/index.css">
</body>
<script src="Lobotomy.js"></script>
<script src="Shutdown.js"></script>
<script src="SystemInfoLog.js"></script>
<script src="textsplash.js" onload="changeText()"></script>
  <title>Fracture</title>
  <div style="position: fixed; bottom: 10px; right: 10px; background-color: rgba(204, 0, 255, 0.075); padding: 10px; border-radius: 5px;">
    <p style="margin: 0;">4.1.0</p>
</div>
<br>
<script>
changeText();
</script>
<style>
  body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .container5 {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
    position: absolute;
    top: 100px; /* Default value for larger screens */

    /* Adjust top position for smaller screens */
    @media screen and (max-width: 768px) {
        top: 80px;
    }

    @media screen and (max-width: 480px) {
        top: 60px;
    }

    @media screen and (max-width: 320px) {
        top: 40px;
    }
}


.resizable-image {
    width: 100%;
    height: auto;
            margin: 0;
            display: flex;
            align-items: center;
}



</style>
    <div class="container5" id="container5">
        <img src="Fracture-Minecraft_Title.png" alt="Resizable Image" class="resizable-image">
<h3 id="random-h1">Loading Text</h3>
    </div>
<br>
  <style>

#navcontainer {
  position: absolute;
  top: 60%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  height: 300px;
  border-radius: 50%;
  border: 2px solid #560FA6;
  animation: changeBorderRadius 1s 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

    .vbutton, .console-button, .ab-cloak-button {
      position: absolute;
      width: 80px;
      height: 40px;
      background-color: #360A67;
      color: white;
      border: 2px solid #560FA6;
      border-radius: 5px;
      cursor: default;
      text-align: center;
      line-height: 40px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: shrink;
      font-size: 16px;
      font-weight: bold;
text-decoration: none;
transition: all 0.3s ease-in-out;

    }

.vbutton:hover, .console-button:hover, .ab-cloak-button:hover {
border-radius: 10px;
border: 2px solid #7800FF;
background-color: #2C0656;
color: #B16BFF;
}

.background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
}

    #create { top: 50%; left: 50%; transform: translate(-50%, -50%); }
    #navbutton2 { top: -5%; left: 50%; transform: translateX(-50%); }
    #navbutton3 { top: 92%; left: 50%; transform: translateX(-50%); }
    #navbutton4 { top: 50%; left: -10%; transform: translateY(-50%); }
    #navbutton5 { top: 50%; left: 80%; transform: translateY(-50%); }


  </style>

<div id="navcontainer">
  <a hidden id="create" class="console-button" class="button" href="#">Cloak</a>
  <a id="navbutton2" class="vbutton" href="google-classroom.html">Games</a>
  <a id="navbutton3" class="vbutton" href="google-drive.html">Tools</a>
  <a id="navbutton4" class="vbutton" href="chat.html">Frat-Chat</a>
  <a style="font-size: 12px;" id="navbutton5" class="vbutton" href="Launchpad.html">Leaderboard</a>
<button style="top: 50%; left: 50%; transform: translate(-50%, -50%);" id="ab-cloak-button" class="ab-cloak-button">Cloak</button>
<p hidden class="console-input"><input id="url-target" value="https://graystuido.github.io/Fracture/" autocomplete="on" type="text" autofocus /></p>
</div>

<style>
body {
color: white;
background: #1e0041;
margin: 0;
padding: 0;
}
		@font-face {
  font-family: 'Lexend Semi-Bold';
  src: url('path/to/lexend-semibold.woff2') format('woff2'), /* Modern Browsers */
       url('path/to/lexend-semibold.woff') format('woff'); /* Older Browsers */
  font-weight: 600; /* Specify the font weight */
  font-style: normal; /* Specify the font style */
}
body {
    font-family: 'lexend-semibold', sans-serif;
}
</style>
<script src="cloak.js">
      var url = document.getElementById("url-target");
      var urlObj = new window.URL(window.location.href);
      document.getElementById("create").onclick = function () {
        if (url.value.substring(0, 8) !== 'https://' && url.value.substring(0, 7) !== 'http://') {
    		url.value = 'https://' + url.value.split('https://').pop();
        } else if (url.value.substring(0, 7) == 'http://'){
        	url.value = 'https://' + url.value.split('http://').pop();
        };
        win = window.open('about:blank', '_blank', 'height=600,width=800,resizable=no,scrollbars=no,status=no,toolbar=no,location=no,menubar=no');
        win.document.body.style.margin = "0";
        win.document.body.style.height = "100vh";
        var iframe = win.document.createElement("iframe");
        iframe.style.border = "none";
        iframe.style.width = "100%";
        iframe.style.height = "100%";
        iframe.style.margin = "0";
        iframe.referrerpolicy = "no-referrer";
        iframe.allow = "fullscreen";
        iframe.src = url.value;
        win.document.body.appendChild(iframe);
      };
</script>

    <script>
      document.getElementById("ab-cloak-button").onclick = function () {
    var url;
    try {
        url = window.location.href;
    } catch (error) {
        console.error("Error getting current URL:", error);
        url = "https://graystuido.github.io/Fracture/index.html";
    }
    var win = window.open('about:blank', '_blank', 'height=800,width=1080,resizable=no,scrollbars=no,status=no,toolbar=no,location=no,menubar=no');
    win.document.body.style.margin = "0";
    win.document.body.style.height = "100vh";
    var iframe = win.document.createElement("iframe");
    iframe.style.border = "none";
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    iframe.style.margin = "0";
    iframe.referrerpolicy = "no-referrer";
    iframe.allow = "fullscreen";
    iframe.src = url;
    win.document.body.appendChild(iframe);

    // Close the current tab
    window.close();
};

    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @keyframes breathing {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    #random-h1 {
      display: inline-block;
      animation: breathing 3s infinite ease-in-out;
    }
  </style>
 <script>
      window.onload = function(MatrixBackground) {
        const canvas = document.getElementById('MatrixBackground');
        const chars = 'abcdefgyzhijklmnopQRSTUVABCDEFGYZ109467ﾊﾐﾋｰｳｼﾅﾓﾆｻﾜﾂｵﾘｱﾎﾃﾏｹﾒｴｶｷﾑﾕﾗｾﾈｽﾀﾇﾍ日¦｜:・."=*+-<>'; // Your chosen characters
        const duration = 10000; // Duration of the matrix effect in milliseconds

        // Get canvas context and set canvas size
        const ctx = canvas.getContext('2d');
        const w = canvas.width = window.innerWidth;
        const h = canvas.height = window.innerHeight;

        // Calculate number of columns and initialize y positions
        const cols = Math.floor(w / 20) + 1;
        const ypos = Array(cols).fill(0);

        // Fill canvas with black color
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, w, h);

        // Create matrix effect function
        const matrix = () => {
          ctx.fillStyle = '#0001';
          ctx.fillRect(0, 0, w, h);

          ctx.fillStyle = '#C800FF';
          ctx.font = '15pt monospace';

          ypos.forEach((y, ind) => {
            const text = chars[Math.floor(Math.random() * chars.length)];
            const x = ind * 20;
            ctx.fillText(text, x, y);
            if (y > 100 + Math.random() * 10000) ypos[ind] = 0;
            else ypos[ind] = y + 20;
          });
        };

        // Call matrix effect function every 50 milliseconds
        const matrixInterval = setInterval(matrix, 50);
      };
    </script>
<div id="center-bar"></div>
<div class="background">
  <canvas id="MatrixBackground"></canvas>
</div>
<style>
        .full-page-div {
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            flex-direction: column;
            position: relative;
            z-index: 9999;
        }
        .login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .login-container input {
            padding: 10px;
            margin: 5px 0;
            width: 200px;
            border: none;
            border-radius: 5px;
        }
        .login-container button {
            padding: 10px;
            margin-top: 10px;
            width: 220px;
            border: none;
            border-radius: 5px;
            background-color: #333;
            color: white;
            cursor: pointer;
        }
        .login-container button:hover {
            background-color: #555;
        }
        .error-message {
            color: red;
            margin-top: 10px;
            display: none;
        }
        .error-button {
            background-color: red;
        }
    </style>
    <div class="full-page-div" id="loginDiv">
        <div>
            <h1>Fracture Login</h1>
            <p>If you want a login, submit it <a href="https://forms.gle/dm3fNrrdDyBrP3mU6" style="color: lightblue;">here</a>.</p>
        </div>
        <div class="login-container">
            <input type="text" autocomplete="off" placeholder="Username" id="username">
            <input type="password" autocomplete="off" placeholder="Password" id="password">
            <button id="loginButton" onclick="login()">Login</button>
            <p id="errorMessage" class="error-message"></p>
        </div>
    </div>

    <script>
        // Example users and passwords
        const users = {
            'bafu moo': { password: '807962', banned: false },
            'possum!': { password: 'livefasteattrash', banned: false },
            'deninog': { password: '1111', banned: true },
            'jusinoj': { password: 'theearthisflat', banned: false },
            'Griffon': { password: '07032008GAAP', banned: false },
            'Tysoniscool': { password: '80852612', banned: false },
            'Oskie': { password: 'La*eggcool456', banned: false },
            'Reidak': { password: 'thokbest877!', banned: false },
            '9.5kWhiskey': { password: 'SillyGoofy69', banned: false },
            'junior': { password: 'Password2', banned: true },
            '@The_realbread24': { password: 'fracture123', banned: true },
            'kingalm24': { password: 'W4k3yW4k3y', banned: false },
            'nimrod.': { password: 'ilikefanta', banned: false },
            'uhyeah': { password: 'uhyeahh', banned: false },
            'juju_woahmazing': { password: 'Julian200808', banned: false },
            'Zach': { password: '123321', banned: false },
            'RiceSpice': { password: 'BigBirthdayCakeAbriviated', banned: false },
            'Poopy123': { password: 'Poop1234', banned: false },
            'Debug Account': { password: 'juhygtfrd6ftgyhiuh7867g5f6rfytguy6yftguyih', banned: false }
        };

        // Check if user is already logged in
        document.addEventListener('DOMContentLoaded', () => {
            const storedUsername = localStorage.getItem('loggedInUser');
            if (storedUsername && users[storedUsername] && !users[storedUsername].banned) {
                document.getElementById('loginDiv').style.display = 'none';
            }
        });

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const loginButton = document.getElementById('loginButton');
            const errorMessage = document.getElementById('errorMessage');

            if (users[username]) {
                if (users[username].banned) {
                    errorMessage.textContent = 'You are banned.';
                    errorMessage.style.display = 'block';
                    loginButton.classList.add('error-button');
                } else if (users[username].password === password) {
                    localStorage.setItem('loggedInUser', username);
                    document.getElementById('loginDiv').style.display = 'none';
                } else {
                    errorMessage.textContent = 'Invalid username or password.';
                    errorMessage.style.display = 'block';
                    loginButton.classList.add('error-button');
                }
            } else {
                errorMessage.textContent = 'Invalid username or password.';
                errorMessage.style.display = 'block';
                loginButton.classList.add('error-button');
            }
        }

        // Add event listeners for Enter key
        document.getElementById('username').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                document.getElementById('password').focus();
            }
        });

        document.getElementById('password').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                login();
            }
        });
    </script>
