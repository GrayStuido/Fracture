const leaderboardsData = {
  Freshman: {
    tetris: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 272 },
      { name: 'Brennan McCoskery', score: 305 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 309 },
      { name: 'Jayden Jusino', score: 280 },
      { name: 'Oskie Ayala', score: 300 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ],
    subway: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 735810 },
      { name: 'Brendan Westdahl', score: 1478329 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 7322951 },
      { name: 'Jayden Jusino', score: 177250 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ],
    tanuki: [
      { name: 'Addison Burck', score: 48685 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 61533 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 69935 },
      { name: 'Jayden Jusino', score: 10 },
      { name: 'Oskie Ayala', score: 50307 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ],
    slope: [
      { name: 'Addison Burck', score: 100 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 94 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 41 },
      { name: 'Griffon Piazzisi', score: 155 },
      { name: 'Jayden Jusino', score: 130 },
      { name: 'Oskie Ayala', score: 86 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 114 },
      { name: 'Wes Porter', score: 66 }
    ],
    kitchengun: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 104 },
      { name: 'Jayden Jusino', score: 76 },
      { name: 'Oskie Ayala', score: 109 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ],
    galaga: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 6910 },
      { name: 'Tyson Fahlman', score: 238020 },
      { name: 'Wes Porter', score: 191830 }
    ],
    dragonvsbricks: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 1630 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 798 },
      { name: 'Wes Porter', score: 0 }
    ],
    connect3: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 71700 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 73000 },
      { name: 'Jayden Jusino', score: 4304800 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ]
  },



  Sophomore: {
    tetris: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 152 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ],
    
    subway: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ], 
    
    tanuki: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ], 
    
    slope: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ], 
    
    kitchengun: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ], 
    
    galaga: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 157190 }
    ], 
    
    dragonvsbricks: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ], 
    
    connect3: [
      { name: 'Addison Burck', score: 0 },
      { name: 'Alex Partan', score: 0 },
      { name: 'Brendan Westdahl', score: 0 },
      { name: 'Brennan McCoskery', score: 0 },
      { name: 'Clark Chaney', score: 0 },
      { name: 'Griffon Piazzisi', score: 0 },
      { name: 'Jayden Jusino', score: 0 },
      { name: 'Oskie Ayala', score: 0 },
      { name: 'Sal A.M.', score: 0 },
      { name: 'Tyson Fahlman', score: 0 },
      { name: 'Wes Porter', score: 0 }
    ],
  },




  Junior: {
    tetris: [], subway: [], tanuki: [], slope: [], kitchengun: [], galaga: [], dragonvsbricks: [], connect3: []
  },




  Senior: {
    tetris: [], subway: [], tanuki: [], slope: [], kitchengun: [], galaga: [], dragonvsbricks: [], connect3: []
  }
};

function renderLeaderboard(game, classYear) {
  const leaderboardContainer = document.getElementById(`${game}-scores`);
  leaderboardContainer.innerHTML = '';
  
  const players = leaderboardsData[classYear][game];
  
  if (players.length === 0) {
    leaderboardContainer.innerHTML += '<p class="no-scores">No scores recorded. You could be the first!</p>';
    return;
  }

  players.sort((a, b) => b.score - a.score);

  players.forEach((player, index) => {
    if (player.score !== 0) {
      const leaderboardItem = document.createElement('div');
      leaderboardItem.classList.add('leaderboard-item');

      if (index === 0) {
        leaderboardItem.classList.add('leaderboard-item-first');
      } else if (index === 1) {
        leaderboardItem.classList.add('leaderboard-item-second');
      } else if (index === 2) {
        leaderboardItem.classList.add('leaderboard-item-third');
      }

      const formattedScore = player.score.toLocaleString();

      leaderboardItem.innerHTML = `<span>${index + 1}. ${player.name}</span><span>${formattedScore}</span>`;
      leaderboardContainer.appendChild(leaderboardItem);
    }
  });
}

function changeAllYears(classYear) {
  const buttons = document.querySelectorAll('.global-year-selector button');
  buttons.forEach(button => {
    button.classList.remove('active');
    if (button.textContent === classYear) {
      button.classList.add('active');
    }
  });

  Object.keys(leaderboardsData[classYear]).forEach(game => {
    renderLeaderboard(game, classYear);
    localStorage.setItem(`${game}-class`, classYear);
  });

  localStorage.setItem('global-class', classYear);
}

// Initialize leaderboards
document.addEventListener('DOMContentLoaded', () => {
  const loggedInUser = localStorage.getItem('loggedInUser');
  if (!loggedInUser) {
    window.location.href = 'index.html';
  }

  Object.keys(leaderboardsData['Freshman']).forEach(game => {
    const savedClass = localStorage.getItem(`${game}-class`) || 'Sophomore';
    renderLeaderboard(game, savedClass);
  });

  const savedGlobalClass = localStorage.getItem('global-class') || 'Sophomore';
  changeAllYears(savedGlobalClass);
});
